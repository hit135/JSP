<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            Spring MVC

      1) 개요

           - 다양한 종류의 웹 프레임워크가 존재하지만 국내 기업 환경에서 사용하기 적합한 프레임워크를 

                 꼽는다면  스프링 MVC를 들 수 있을것이다. 스프링 프레임워크가 출현한 이후 수많은 웹프로젝트

                 에서 스프링 MVC를 이용했고, 스프링 MVC는 스프링을 이용하는 주된 이유 중 하나가 되었다.


스프링 MVC 흐름도

      2) 스프링 MVC의 주요 구성 요소

          2.1) DispatcheServlet

                - DispatcheServlet 도 부모 클래스에서 HttpServlet을 상속받아 사용하며, 서블릿으로 동작한다

                - 클라이언트의 요청을 전달받아 컨트롤러에게 클라이언트의 요청을 전달하고, 컨트롤러가 리턴한 

                       결과값을 View에 전달하여 알맞은 응답을 생성하도록 한다.


​

          2.2) HandlerMapping

                - 클라이언트가 요청이오면 그 요청에맞는 Controller(핸들러)를 찾아준다.  

​

          2.3) HandlerAdapter

                - DispatcheServlet의 처리 요청을 변환해서 Controller(핸들러)에게 전달하고, 

                     Controller(핸들러)의 응답 결과를 DispatcheServlet이 요구하는 형식으로 변환한다.

​

          2.4) Controller

                - 클라이언트의 요청을 처리한 뒤, 결과를 리턴한다. View Name 과 응답 결과에서 보여줄 데이터를 

                      Model에 담아 전달한다.

​

          2.5) ViewResolver

                - DispatcherServlet은  ViewResolver로부터 응답 결과를 생성할 View 객체를 구한다.

​

          2.6) View

                - 컨트롤러의 처리 결과 화면을 생성한다. JSP등을 이용하여 클라이언트에 응답 결과를 전송한다.

​

      3) 스프링 MVC 설정 과정

          3.1) web.xml 에 DispatcherServlet 설정


​

          3.2) DispatcherServlet에  HanderMapping, HanderAdapter 설정

                 - HanderMapping, HanderAdapter은 아래 그림과 같이 <mvc:annotation-driver/> 태그를 

                      이용하면 설정이 끝난다. <mvc:annotation-driver/> 태그는 Controller(핸들러)에 요청을 

                      보내기 위해 필요한 HandlerMapping과 HandlerAdapter를 Bean으로 등록한다. 

                 -  <mvc:annotation-driver/> 태그는 앞서 설명한 것 이외에 JSON, XML 등 요청/응답에 처리에 

                      필요한 변환 모듈이나 데이터 바인딩 처리와 같은 다른 설정들도 추가적으로 해준다.


​

          3.3) DispatcherServlet에 ViewResolver 설정

                 - 아래 그림은 ViewResolver으로 InternalResourceViewResolver을 설정하였다.
                

    4) 스프링 리스너

          4.1) <listener>

                    - 모든 서블릿과 필터에 의해 공유되는 스프링 컨테이너를 생성합니다. 리스너 태그로

                         ContextLoaderListener 클래스를 등록하는데,  이 ContextLoaderListener 클래스가 

                         생성하는 WebApplicationContext는 웹 애플리케이션에서 root 컨텍스트가 되며, 자식은 

                         root가 제공하는 객체(Bean)을 사용할 수 있습니다.

​

          4.2) ContextLoaderListener

                   - Controller가 공유하는 Bean들을 포함하는 Spring Container를 생성합니다. 서블릿에서 

                         제공하는 ServletContextListener 를 확장하여 만든 리스너로,  웹 애플리케이션이 서블릿

                         컨테이너에 로딩될 때 실행되는 리스너입니다. ContextLoaderListener 는 웹 애플리케이션이 

                         로딩될 때,  WebApplicationContext 를 만드는 역할을 합니다. 이렇게 생성된

                         WebApplicationContext 는 ContextConfigLocation 에서 정의한 Bean 설정 파일을 

                         사용해서 웹 애플리케이션에서 사용할 객체를 관리해주는 역할을 합니다.

        */

    </script>
    
</body>
</html>